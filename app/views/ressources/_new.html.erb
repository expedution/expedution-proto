<div id="new-ressource-modal-<%= activity.id %>" class="modal-mat">
  <div class="container">
    <h3 class="modal-title text-center">Create your ressource</h3>
    <div class="row">
      <div class="col s12">
        <%= simple_form_for [@expedition, ressource] do |f| %>
        <div>
          <%= f.input :name, label: "Resource name", placeholder: "Resource name", input_html: {maxlength: 30, style: "border-bottom: 1px solid black;"} %>
          <%= f.input :category, collection: Ressource::RESSOURCES_CATEGORY, prompt: "Resource type" %>
          <%= f.input :url, label: "Resource URL", placeholder: "Resource URL", input_html: {style: "border-bottom: 1px solid black;"} %>
          <%= f.input :description, label: "Resource description", input_html: {maxlength: 1000}, placeholder: "Provide a resource description" %>
          <div class="input-file-container">
            <%= f.input :photo, label: "add a picture", input_html: { class: "hidden" }%>
            <%= f.input :photo_cache, as: :hidden %>
            <p class="file-return"></p>
          </div>
          <%= f.input :activity_id, as: :hidden %>
            <div class="modal-footer">
              <%= f.submit "Add resource", class: "btn btn-success" %>
              <a href="#!" class="modal-action modal-close btn red">cancel</a>
            </div>
        </div>
        <% end %>
      </div>
    </div>
  </div>
</div>


<%= content_for :after_js do %>
  <script>
    $( ".import-file-container label").on( "click", function() {
       $('#activity_photo').focus();
       return false;
    });

    $('#activity_photo').change(function(e) {
        $(".file-return").html(this.value);
    });
  </script>

<% end %>
